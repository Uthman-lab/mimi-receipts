workflows:

    android-release:

        name: Android Release Workflow

        max_build_duration: 120

        instance_type: mac_mini_m2

        environment:
            groups:
                - android_code_signing
            vars:
                PACKAGE_NAME: "com.example.reciept_tracker"

        scripts:
            - name: Get Flutter dependencies
              script: |
                flutter pub get

            - name: Build Android App Bundle
              script: |
                flutter build appbundle --release

        artifacts:
            - build/app/outputs/**/*.aab
            - build/app/outputs/**/*.apk

        publishing:
            email:
                recipients:
                    - asumahbanda3@gmail.com
                notify:
                    success: true
                    failure: false